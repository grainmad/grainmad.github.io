<hr>
<p>title: “三分法”<br>date: 2024-06-03 10:42:02<br>updated: 2024-06-05 06:38:41<br>tag: [notion, Algorithm, 数学]<br>categories: Algorithm<br>mathjax: true<br>comments: true<br>description: </p>
<hr>
<h1 id="三分法"><a href="#三分法" class="headerlink" title="三分法"></a>三分法</h1><p>整数</p>
<pre><code class="cpp">using ll = long long;
ll l = -1,r = 1e18, lans, rans;
while(l &lt; r) {
    ll lmid = l + (r - l) / 3; // l + 1/3区间大小
    ll rmid = r - (r - l) / 3;  // r - 1/3区间大小
    lans = cal(lmid),rans = cal(rmid);
    
    // 求凹函数的极小值
    if(lans &lt;= rans) r = rmid - 1;
    else l = lmid + 1;
    
    // 求凸函数的极大值
    if(lans &lt;= rans) l = lmid + 1;
    else r = rmid - 1;
}
// 求凹函数的极小值
cout &lt;&lt; min(lans,rans) &lt;&lt; endl;
// 求凸函数的极大值
cout &lt;&lt; max(lans,rans) &lt;&lt; endl;
```&lt;!--more--&gt;

浮点数

```cpp
const double EPS = 1e-9;
double l = 0, r = 1e18, lans, rans;
while(r - l &gt; EPS) {
    double lmid = l + (r - l) / 3;
    double rmid = r - (r - l) / 3;
    lans = cal(lmid),rans = cal(rmid);
    
    // 求凹函数的极小值
    if(lans &lt;= rans) r = rmid;
    else l = lmid;
    
    // 求凸函数的极大值
    if(lans &lt;= rans) l = lmid;
    else r = rmid;
}
// 输出 l 或 r 都可
cout &lt;&lt; l &lt;&lt; endl;
</code></pre>
